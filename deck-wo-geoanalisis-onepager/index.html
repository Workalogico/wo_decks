<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="WorkalÃ³gico - Inteligencia GeoestadÃ­stica para decisiones de expansiÃ³n basadas en datos">
  <meta name="author" content="WorkalÃ³gico">
  <meta name="robots" content="noindex, nofollow">
  
  <!-- Open Graph / Social Sharing -->
  <meta property="og:title" content="WorkalÃ³gico | Inteligencia GeoestadÃ­stica">
  <meta property="og:description" content="Elige tu prÃ³xima ubicaciÃ³n con datos, no intuiciÃ³n. 500M+ data points.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="es_MX">
  
  <title>WorkalÃ³gico | Inteligencia GeoestadÃ­stica</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="../LOGOS/teseracto yellow@3x.png">
  
  <!-- Preload critical assets -->
  <link rel="preload" href="../wo-design-system.css" as="style">
  <link rel="preload" href="../LOGOS/logo yellow @3x.png" as="image">
  
  <!-- Reveal.js CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4/dist/reset.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4/dist/reveal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4/dist/theme/black.css">
  
  <!-- Google Fonts with font-display swap -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- WorkalÃ³gico Design System -->
  <link rel="stylesheet" href="../wo-design-system.css">
  
  <!-- WorkalÃ³gico Particles System -->
  <link rel="stylesheet" href="../wo-particles.css">
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  
  <!-- Custom styles for Houston map -->
  <style>
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       REVEAL.JS COMPATIBLE MAP LAYOUT
       
       IMPORTANTE: Reveal.js usa transform:scale() para ajustar slides.
       Todas las posiciones son RELATIVAS al contenedor del slide (1280x720).
       NO usar position:fixed ni coordenadas del viewport.
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    
    /* El slide del mapa: sin padding para maximizar espacio */
    .map-slide-container {
      width: 100%;
      height: 100%;
      position: relative;
      display: flex;
      flex-direction: column;
      padding: 0 !important;
      margin: 0 !important;
    }
    
    /* Wrapper del mapa: ocupa todo el espacio disponible del slide */
    .map-wrapper {
      position: relative;
      width: 1280px;
      height: 720px;
      margin: 0 auto;
      overflow: hidden;
      background: #0a0a14;
    }
    
    /* El mapa Leaflet: 100% del wrapper */
    .map-wrapper #houston-map {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    
    /* Contenedor de overlays: sobre el mapa, mismas dimensiones */
    .map-overlays {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 10;
      pointer-events: none; /* Permite interactuar con el mapa */
    }
    
    .map-overlays > * {
      pointer-events: auto; /* Overlays sÃ­ reciben clicks */
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       OVERLAY: Header Panel (Centro Superior)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    
    .map-header {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(15, 15, 26, 0.92);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid var(--border-accent, rgba(89, 104, 234, 0.3));
      border-radius: var(--radius-xl, 16px);
      padding: 16px 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      box-shadow: var(--shadow-card, 0 8px 32px rgba(0, 0, 0, 0.5));
    }
    
    .map-header__title {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .map-header__badge {
      background: var(--wo-accent-dim, rgba(89, 104, 234, 0.15));
      border: 1px solid var(--wo-blue-lab, #5968EA);
      color: var(--wo-blue-lab, #5968EA);
      font-size: 10px;
      font-weight: 700;
      padding: 5px 12px;
      border-radius: 20px;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      font-family: var(--font-heading, 'Space Grotesk', sans-serif);
    }
    
    .map-header__text {
      margin: 0;
      font-size: 22px;
      font-weight: 600;
      color: var(--wo-text, #fff);
      font-family: var(--font-heading, 'Space Grotesk', sans-serif);
    }
    
    .map-header__text .accent {
      color: var(--wo-blue-lab, #5968EA);
    }
    
    .map-header__text .accent-yellow {
      color: var(--wo-yellow-spark, #FFCB00);
    }
    
    .map-header__stats {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .stat-chip {
      background: var(--wo-accent-dim, rgba(89, 104, 234, 0.15));
      border: 1px solid var(--border-accent, rgba(89, 104, 234, 0.3));
      border-radius: var(--radius-md, 8px);
      padding: 8px 14px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 80px;
      transition: all 0.2s ease;
    }
    
    .stat-chip:hover {
      border-color: var(--wo-blue-lab, #5968EA);
      transform: translateY(-1px);
    }
    
    .stat-chip--success {
      background: rgba(16, 185, 129, 0.15);
      border-color: rgba(16, 185, 129, 0.4);
    }
    
    .stat-chip--highlight {
      background: var(--wo-yellow-dim, rgba(255, 203, 0, 0.15));
      border-color: var(--border-highlight, rgba(255, 203, 0, 0.4));
    }
    
    .stat-chip__value {
      font-size: 18px;
      font-weight: 700;
      color: var(--wo-blue-lab, #5968EA);
      line-height: 1.2;
      font-family: var(--font-heading, 'Space Grotesk', sans-serif);
    }
    
    .stat-chip--success .stat-chip__value {
      color: var(--wo-success, #10B981);
    }
    
    .stat-chip--highlight .stat-chip__value {
      color: var(--wo-yellow-spark, #FFCB00);
    }
    
    .stat-chip__label {
      font-size: 10px;
      color: var(--wo-text-secondary, #94A3B8);
      text-transform: uppercase;
      letter-spacing: 0.3px;
      font-family: var(--font-body, 'DM Sans', sans-serif);
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       OVERLAY: Controls (Derecha)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    
    .map-controls {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(15, 15, 26, 0.92);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--border-accent, rgba(89, 104, 234, 0.2));
      border-radius: var(--radius-lg, 12px);
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .map-layer-btn {
      background: var(--wo-accent-dim, rgba(89, 104, 234, 0.1));
      border: 1px solid var(--border-accent, rgba(89, 104, 234, 0.3));
      color: var(--wo-text-secondary, #94A3B8);
      padding: 10px 14px;
      border-radius: var(--radius-md, 8px);
      font-size: 12px;
      cursor: pointer;
      transition: all var(--transition-fast, 0.2s ease);
      text-align: left;
      font-family: var(--font-body, 'DM Sans', sans-serif);
    }
    
    .map-layer-btn:hover {
      background: rgba(89, 104, 234, 0.2);
      border-color: var(--wo-blue-lab, #5968EA);
      color: var(--wo-text, #fff);
    }
    
    .map-layer-btn.active {
      background: var(--wo-blue-lab, #5968EA);
      border-color: var(--wo-blue-lab, #5968EA);
      color: var(--wo-text, #fff);
      box-shadow: 0 0 12px rgba(89, 104, 234, 0.4);
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       OVERLAY: Legend (Izquierda Inferior)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    
    .map-legend {
      position: absolute;
      bottom: 20px;
      left: 20px;
      background: rgba(15, 15, 26, 0.92);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--border-accent, rgba(89, 104, 234, 0.2));
      border-radius: var(--radius-lg, 12px);
      padding: 14px 16px;
    }
    
    .map-legend h4 {
      margin: 0 0 10px 0;
      font-size: 12px;
      font-weight: 600;
      color: var(--wo-text, #fff);
      font-family: var(--font-heading, 'Space Grotesk', sans-serif);
    }
    
    .legend-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 6px 0;
      font-size: 11px;
      color: var(--wo-text-secondary, #94A3B8);
      font-family: var(--font-body, 'DM Sans', sans-serif);
    }
    
    .legend-dot {
      width: 12px;
      height: 12px;
      border-radius: var(--radius-sm, 3px);
      border: 1px solid rgba(255, 255, 255, 0.15);
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       OVERLAY: Pipeline Badge (Derecha Inferior)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    
    .map-pipeline {
      position: absolute;
      bottom: 20px;
      right: 20px;
      background: rgba(15, 15, 26, 0.92);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--border-accent, rgba(89, 104, 234, 0.2));
      border-radius: var(--radius-md, 10px);
      padding: 10px 14px;
      font-size: 10px;
      color: var(--wo-text-muted, #64748B);
      max-width: 320px;
      font-family: var(--font-body, 'DM Sans', sans-serif);
    }
    
    .pipeline-line {
      display: flex;
      align-items: center;
      gap: 6px;
      margin: 3px 0;
    }
    
    .pipeline-line span:not(.pipeline-icon) {
      color: var(--wo-text-secondary, #94A3B8);
    }
    
    .pipeline-icon {
      font-size: 11px;
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       LEAFLET POPUPS - Estilos dark theme
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    
    .leaflet-popup-content-wrapper {
      background: var(--wo-dark, rgba(15, 15, 26, 0.95));
      backdrop-filter: blur(8px);
      border: 1px solid var(--border-accent, rgba(89, 104, 234, 0.3));
      border-radius: var(--radius-md, 10px);
      color: var(--wo-text, #fff);
      box-shadow: var(--shadow-card, 0 8px 30px rgba(89, 104, 234, 0.15));
    }
    
    .leaflet-popup-content {
      margin: 12px 14px;
      font-family: var(--font-body, 'DM Sans', sans-serif);
      font-size: 12px;
    }
    
    .leaflet-popup-tip {
      background: var(--wo-dark, rgba(15, 15, 26, 0.95));
      border: 1px solid var(--border-accent, rgba(89, 104, 234, 0.3));
    }
    
    .zone-popup h3 {
      margin: 0 0 8px 0;
      font-size: 14px;
      font-weight: 600;
      color: var(--wo-blue-lab, #5968EA);
      font-family: var(--font-heading, 'Space Grotesk', sans-serif);
    }
    
    .zone-popup .score {
      font-size: 24px;
      font-weight: 700;
      color: var(--wo-yellow-spark, #FFCB00);
      margin-bottom: 10px;
      font-family: var(--font-heading, 'Space Grotesk', sans-serif);
      text-shadow: 0 0 20px rgba(255, 203, 0, 0.3);
    }
    
    .zone-popup table {
      width: 100%;
      border-collapse: collapse;
      font-size: 11px;
    }
    
    .zone-popup table td {
      padding: 3px 0;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .zone-popup table td:first-child {
      color: var(--wo-text-secondary);
    }
    
    .zone-popup table td:last-child {
      text-align: right;
      font-weight: 600;
    }
    
    .leaflet-tooltip-dark {
      background: var(--wo-dark, rgba(15, 15, 26, 0.95));
      border: 1px solid var(--border-accent, rgba(89, 104, 234, 0.3));
      color: var(--wo-text, #fff);
      font-family: var(--font-body, 'DM Sans', sans-serif);
      font-size: 11px;
      padding: 4px 8px;
      border-radius: var(--radius-sm, 4px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    
    .leaflet-tooltip-dark::before {
      border-top-color: var(--wo-dark, rgba(15, 15, 26, 0.95));
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       LEGACY STYLES (compatibilidad con otros slides)
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    
    .houston-map-container {
      height: 300px;
      width: 100%;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(89, 104, 234, 0.3);
      position: relative;
    }
    
    .houston-map-legend {
      position: absolute;
      bottom: 15px;
      left: 15px;
      background: rgba(15, 15, 26, 0.9);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      padding: 10px 14px;
      border-radius: 8px;
      border: 1px solid rgba(89, 104, 234, 0.3);
      z-index: 1000;
      font-size: 10px;
      color: #fff;
    }
    
    .houston-map-legend h4 {
      margin: 0 0 8px 0;
      font-size: 12px;
      color: var(--wo-blue-lab, #5968EA);
      font-family: var(--font-heading, 'Space Grotesk', sans-serif);
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 4px 0;
    }
    
    .legend-color {
      width: 14px;
      height: 14px;
      border-radius: 3px;
      border: 1px solid rgba(255,255,255,0.3);
    }
    
    .houston-map-controls {
      position: absolute;
      top: 110px; /* Debajo del header */
      right: 15px;
      display: flex;
      flex-direction: column;
      gap: 5px;
      z-index: 1000;
    }
    
    /* Legacy button styles - merged with above, using Design System */
    
    /* Legacy popup styles - merged with above, using Design System */
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ANIMATED INDUSTRY ICONS
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .wo-card--icon {
      text-align: left;
    }
    
    .wo-card__icon {
      width: 52px;
      height: 52px;
      margin-bottom: 0.8em;
      color: var(--wo-yellow-spark);
      transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    }
    
    .wo-card__icon svg {
      width: 100%;
      height: 100%;
      filter: drop-shadow(0 0 0px var(--wo-yellow-spark));
      transition: filter 0.4s ease;
    }
    
    .wo-card--icon:hover .wo-card__icon {
      transform: scale(1.1) translateY(-2px);
    }
    
    .wo-card--icon:hover .wo-card__icon svg {
      filter: drop-shadow(0 0 12px var(--wo-yellow-spark));
    }
    
    /* Path drawing animation states */
    .wo-card__icon .icon-path {
      stroke-dasharray: 200;
      stroke-dashoffset: 200;
      opacity: 0;
    }
    
    .wo-card__icon .icon-dot {
      opacity: 0;
      transform-origin: center;
      transform: scale(0);
    }
    
    .wo-card__icon.animated .icon-path {
      opacity: 1;
    }
    
    .wo-card__icon.animated .icon-dot {
      opacity: 1;
    }
    
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       DATA PIPELINE - Fuentes de Datos Slide
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .data-pipeline {
      display: flex;
      align-items: stretch;
      justify-content: center;
      gap: 1.5rem;
      margin-top: 1.5rem;
      max-width: 1100px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .data-column {
      flex: 1;
      max-width: 340px;
      background: var(--wo-dark-elevated);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-lg);
      padding: 1.2rem;
      opacity: 0;
      transform: translateX(-30px);
    }
    
    .data-column--outputs {
      transform: translateX(30px);
    }
    
    .data-column__header {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      margin-bottom: 1rem;
      padding-bottom: 0.8rem;
      border-bottom: 2px solid var(--wo-yellow-spark);
    }
    
    .data-column__icon {
      width: 28px;
      height: 28px;
      color: var(--wo-yellow-spark);
    }
    
    .data-column__header h3 {
      font-family: var(--font-heading);
      font-size: 1.1em;
      font-weight: 600;
      margin: 0;
      color: var(--wo-text);
    }
    
    /* Data Sources (Inputs) */
    .data-sources {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    
    .data-source {
      display: flex;
      align-items: center;
      gap: 0.7rem;
      padding: 0.5rem 0.6rem;
      background: rgba(89, 104, 234, 0.08);
      border-radius: var(--radius-md);
      opacity: 0;
      transform: translateX(-15px);
      transition: all 0.3s ease;
    }
    
    .data-source:hover {
      background: rgba(89, 104, 234, 0.15);
      transform: translateX(3px);
    }
    
    .data-source__badge {
      font-family: var(--font-heading);
      font-size: 0.55em;
      font-weight: 700;
      padding: 0.2em 0.45em;
      border-radius: var(--radius-sm);
      letter-spacing: 0.05em;
      min-width: 32px;
      text-align: center;
    }
    
    .data-source[data-category="gov"] .data-source__badge {
      background: rgba(16, 185, 129, 0.2);
      color: var(--wo-success);
      border: 1px solid rgba(16, 185, 129, 0.3);
    }
    
    .data-source[data-category="api"] .data-source__badge {
      background: rgba(89, 104, 234, 0.2);
      color: var(--wo-blue-lab);
      border: 1px solid rgba(89, 104, 234, 0.3);
    }
    
    .data-source[data-category="sat"] .data-source__badge {
      background: rgba(255, 203, 0, 0.15);
      color: var(--wo-yellow-spark);
      border: 1px solid rgba(255, 203, 0, 0.3);
    }
    
    .data-source__info {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
    }
    
    .data-source__name {
      font-family: var(--font-heading);
      font-size: 0.75em;
      font-weight: 600;
      color: var(--wo-text);
    }
    
    .data-source__desc {
      font-size: 0.55em;
      color: var(--wo-text-muted);
    }
    
    /* Transform Center */
    .data-transform {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0 0.5rem;
      opacity: 0;
      transform: scale(0.8);
    }
    
    .data-transform__icon {
      width: 70px;
      height: 70px;
    }
    
    .transform-ring {
      transform-origin: center;
    }
    
    .data-transform__label {
      font-family: var(--font-heading);
      font-size: 0.55em;
      font-weight: 600;
      color: var(--wo-blue-lab);
      text-align: center;
      line-height: 1.3;
    }
    
    /* Data Outputs */
    .data-outputs {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
    }
    
    .data-output {
      display: flex;
      align-items: center;
      gap: 0.7rem;
      padding: 0.55rem 0.7rem;
      background: rgba(255, 203, 0, 0.06);
      border: 1px solid rgba(255, 203, 0, 0.15);
      border-radius: var(--radius-md);
      opacity: 0;
      transform: translateX(15px);
      transition: all 0.3s ease;
    }
    
    .data-output:hover {
      background: rgba(255, 203, 0, 0.12);
      border-color: rgba(255, 203, 0, 0.3);
      transform: translateX(-3px);
    }
    
    .data-output__icon {
      width: 26px;
      height: 26px;
      color: var(--wo-yellow-spark);
      flex-shrink: 0;
    }
    
    .data-output__icon svg {
      width: 100%;
      height: 100%;
    }
    
    .data-output span {
      font-family: var(--font-heading);
      font-size: 0.75em;
      font-weight: 500;
      color: var(--wo-text);
    }
  </style>
</head>
<body>
  <!-- tsParticles Container -->
  <div id="tsparticles"></div>
  
  <div class="reveal">
    <div class="slides">

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SLIDE 1: PORTADA (WoAnime: cover animation + counters)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <section data-background-gradient="radial-gradient(ellipse at center, #252542 0%, #0F0F1A 70%)" data-particles="true" aria-label="Portada">
        <div class="wo-cover" data-animate="cinematic">
          <img data-src="../LOGOS/logo yellow @3x.png" alt="WorkalÃ³gico" class="wo-cover__logo" loading="lazy">
          <div class="wo-badge" role="text">Inteligencia de Mercados</div>
          <h1 class="wo-cover__title">Inteligencia <span class="accent">GeoestadÃ­stica</span></h1>
          <p class="wo-cover__subtitle">Elige tu prÃ³xima ubicaciÃ³n con datos, no intuiciÃ³n</p>
          <div class="wo-stats-row" role="list" aria-label="EstadÃ­sticas clave">
            <div class="wo-stat" role="listitem">
              <div class="wo-stat__value" data-animate="counter" aria-label="500 millones mÃ¡s">500M+</div>
              <div class="wo-stat__label">Data points</div>
            </div>
            <div class="wo-stat" role="listitem">
              <div class="wo-stat__value" data-animate="counter">2-6</div>
              <div class="wo-stat__label">Semanas</div>
            </div>
            <div class="wo-stat" role="listitem">
              <div class="wo-stat__value" data-animate="counter" aria-label="15 o mÃ¡s">15+</div>
              <div class="wo-stat__label">Marcas</div>
            </div>
          </div>
          <p class="wo-cover__author">WorkalÃ³gico â€¢ Enero 2026</p>
        </div>
        <div class="grid-background" role="presentation" aria-hidden="true"></div>
        
        <aside class="notes">
          Portada: Presentar la propuesta de valor principal.
          - Enfatizar los 500M+ de data points como diferenciador
          - Tiempo de entrega competitivo: 2-6 semanas
          - Experiencia comprobada: 15+ marcas atendidas
          
          [WoAnime] AnimaciÃ³n cinematogrÃ¡fica con contadores
        </aside>
      </section>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SLIDE 2: SECCIÃ“N - DESAFÃOS
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <section data-background-gradient="linear-gradient(135deg, #0F0F1A 0%, #252542 100%)" data-particles="true" aria-label="IntroducciÃ³n a desafÃ­os">
        <h1 class="wo-section__title">Â¿Te haces estas <span class="accent">preguntas</span>?</h1>
        <p class="wo-section__subtitle">Nosotros las respondemos con datos</p>
        
        <aside class="notes">
          Slide de transiciÃ³n: Conectar con el dolor del cliente.
          Preguntar directamente si se identifican con estos desafÃ­os.
        </aside>
      </section>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SLIDE 3: DESAFÃOS DE EXPANSIÃ“N (WoAnime: cards stagger + step numbers)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <section data-background-color="#0F0F1A" aria-label="DesafÃ­os de expansiÃ³n" data-state="challenges-slide">
        <h2>DesafÃ­os de <span class="accent">ExpansiÃ³n</span></h2>
        <div class="wo-grid wo-grid--2" id="challenges-grid" role="list" data-animate="cards-stagger">
          <div class="wo-card" data-animate="stagger" role="listitem">
            <div class="card-number" aria-hidden="true">01</div>
            <h3>Mejor UbicaciÃ³n</h3>
            <p>Â¿CuÃ¡l es la mejor zona para mi prÃ³xima sucursal?</p>
          </div>
          <div class="wo-card" data-animate="stagger" role="listitem">
            <div class="card-number" aria-hidden="true">02</div>
            <h3>Clientes Potenciales</h3>
            <p>Â¿Hay suficientes clientes en esta ubicaciÃ³n?</p>
          </div>
          <div class="wo-card" data-animate="stagger" role="listitem">
            <div class="card-number" aria-hidden="true">03</div>
            <h3>Competencia</h3>
            <p>Â¿CuÃ¡nta competencia existe en 15 minutos?</p>
          </div>
          <div class="wo-card" data-animate="stagger" role="listitem">
            <div class="card-number" aria-hidden="true">04</div>
            <h3>Retorno de InversiÃ³n</h3>
            <p>Â¿Esta propiedad vale la inversiÃ³n?</p>
          </div>
        </div>
        <div class="grid-background" role="presentation" aria-hidden="true"></div>
        
        <aside class="notes">
          4 preguntas clave que todo lÃ­der de expansiÃ³n se hace:
          1. UbicaciÃ³n Ã³ptima - El clÃ¡sico "location, location, location"
          2. Demanda - Â¿Hay mercado suficiente?
          3. Competencia - SaturaciÃ³n del mercado
          4. ROI - JustificaciÃ³n financiera
          
          [WoAnime] Cards con stagger orgÃ¡nico desde el centro
        </aside>
      </section>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SLIDE 4: CASOS DE USO (WoAnime: grid stagger from center)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <section data-background-color="#0F0F1A" aria-label="Casos de uso por industria" data-state="usecases-slide">
        <h2>Casos de Uso por <span class="accent">Industria</span></h2>
        <div class="wo-grid wo-grid--3" id="usecases-grid" role="list" data-animate="cards-stagger">
          <div class="wo-card wo-card--icon" data-animate="stagger" role="listitem">
            <div class="wo-card__icon" data-icon="restaurant">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path class="icon-path" d="M12 4v16c0 2.2 1.8 4 4 4h2v20M18 4v20M24 4v6c0 3.3 2.7 6 6 6s6-2.7 6-6V4M30 16v28"/>
              </svg>
            </div>
            <h3>Restaurantes / QSR</h3>
            <p>Identifica las mejores zonas basÃ¡ndote en trÃ¡fico y demografÃ­a.</p>
          </div>
          <div class="wo-card wo-card--icon" data-animate="stagger" role="listitem">
            <div class="wo-card__icon" data-icon="retail">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path class="icon-path" d="M6 14h36l-3 24H9L6 14zM6 14l3-8h30l3 8M16 22v8M24 22v8M32 22v8"/>
              </svg>
            </div>
            <h3>Retail</h3>
            <p>Prioriza inversiÃ³n con certeza financiera y anÃ¡lisis de canibalizaciÃ³n.</p>
          </div>
          <div class="wo-card wo-card--icon" data-animate="stagger" role="listitem">
            <div class="wo-card__icon" data-icon="building">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path class="icon-path" d="M6 44V12l18-8 18 8v32M6 12h36M14 20h4v4h-4zM14 30h4v4h-4zM30 20h4v4h-4zM30 30h4v4h-4zM20 36h8v8h-8z"/>
              </svg>
            </div>
            <h3>Inmobiliario</h3>
            <p>Valida el potencial comercial de terrenos antes de invertir.</p>
          </div>
          <div class="wo-card wo-card--icon" data-animate="stagger" role="listitem">
            <div class="wo-card__icon" data-icon="landing">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path class="icon-path" d="M4 40h40M8 40l10-16 12 4 14-20M44 8l-6 1 1 6"/>
                <circle class="icon-dot" cx="24" cy="34" r="3" fill="currentColor" stroke="none"/>
              </svg>
            </div>
            <h3>Soft Landing</h3>
            <p>Entiende nuevos mercados desconocidos con anÃ¡lisis de competencia.</p>
          </div>
          <div class="wo-card wo-card--icon" data-animate="stagger" role="listitem">
            <div class="wo-card__icon" data-icon="store">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path class="icon-path" d="M4 18l4-12h32l4 12M4 18v24h40V18M4 18c0 3.3 2.7 6 6 6s6-2.7 6-6c0 3.3 2.7 6 6 6s6-2.7 6-6c0 3.3 2.7 6 6 6s6-2.7 6-6c0 3.3 2.7 6 6 6s6-2.7 6-6"/>
                <path class="icon-path" d="M18 42v-12h12v12"/>
              </svg>
            </div>
            <h3>Conveniencia</h3>
            <p>Encuentra ubicaciones con alto trÃ¡fico peatonal y vehicular.</p>
          </div>
          <div class="wo-card wo-card--icon" data-animate="stagger" role="listitem">
            <div class="wo-card__icon" data-icon="pharmacy">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect class="icon-path" x="8" y="8" width="32" height="32" rx="4"/>
                <path class="icon-path" d="M24 16v16M16 24h16"/>
              </svg>
            </div>
            <h3>Farmacias</h3>
            <p>Optimiza tu red para maximizar cobertura sin canibalizar.</p>
          </div>
        </div>
        <div class="grid-background" role="presentation" aria-hidden="true"></div>
        
        <aside class="notes">
          Mencionar casos relevantes segÃºn el perfil del cliente:
          - QSR: Ejemplo Pastes Kikos
          - Retail: AnÃ¡lisis de canibalizaciÃ³n
          - Inmobiliario: Due diligence de terrenos
          - Soft Landing: Empresas entrando a MÃ©xico/LatAm
          
          [WoAnime] Grid 3x2 con stagger desde el centro
        </aside>
      </section>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SLIDE 5: DEMO INTERACTIVO - MAPA (PASTES KIKOS HOUSTON)
           
           ESTRUCTURA COMPATIBLE CON REVEAL.JS:
           - map-slide-container: contenedor principal (1280x720)
           - map-wrapper: contiene el mapa + overlays
           - map-overlays: capa de UI sobre el mapa
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <section data-background-color="#0a0a14" data-state="map-slide" aria-label="Demo interactivo">
        
        <div class="map-slide-container">
          <div class="map-wrapper">
            
            <!-- MAPA LEAFLET -->
            <div id="houston-map"></div>
            
            <!-- OVERLAYS UI -->
            <div class="map-overlays">
              
              <!-- Header: TÃ­tulo + Stats -->
              <div class="map-header">
                <div class="map-header__title">
                  <span class="map-header__badge">CASO REAL</span>
                  <h2 class="map-header__text">Pastes Kikos <span class="accent">Houston</span></h2>
                </div>
                <div class="map-header__stats">
                  <div class="stat-chip">
                    <span class="stat-chip__value">7,300+</span>
                    <span class="stat-chip__label">Restaurantes</span>
                  </div>
                  <div class="stat-chip">
                    <span class="stat-chip__value">195K</span>
                    <span class="stat-chip__label">ReseÃ±as NLP</span>
                  </div>
                  <div class="stat-chip">
                    <span class="stat-chip__value">700+</span>
                    <span class="stat-chip__label">MenÃºs Vision</span>
                  </div>
                  <div class="stat-chip">
                    <span class="stat-chip__value">1,024</span>
                    <span class="stat-chip__label">Celdas H3</span>
                  </div>
                  <div class="stat-chip stat-chip--highlight">
                    <span class="stat-chip__value">5</span>
                    <span class="stat-chip__label">Zonas Top</span>
                  </div>
                </div>
              </div>
              
              <!-- Controls: Capas del mapa (Design System) -->
              <div class="map-controls">
                <button class="map-layer-btn active" data-layer="zones">ğŸ¯ Zonas Top 5</button>
                <button class="map-layer-btn" data-layer="cells">ğŸ“Š Celdas H3</button>
                <button class="map-layer-btn" data-layer="competition">ğŸŸ  Competencia</button>
              </div>
              
              <!-- Legend: Scoring (Design System WorkalÃ³gico) -->
              <div class="map-legend">
                <h4>Scoring de UbicaciÃ³n</h4>
                <div class="legend-row">
                  <div class="legend-dot" style="background: #FFCB00;"></div>
                  <span>85+ Excelente</span>
                </div>
                <div class="legend-row">
                  <div class="legend-dot" style="background: #FBBF24;"></div>
                  <span>70-85 Bueno</span>
                </div>
                <div class="legend-row">
                  <div class="legend-dot" style="background: #6366F1;"></div>
                  <span>55-70 Moderado</span>
                </div>
                <div class="legend-row">
                  <div class="legend-dot" style="background: #4338CA;"></div>
                  <span>40-55 Bajo</span>
                </div>
              </div>
              
              <!-- Pipeline: Herramientas usadas -->
              <div class="map-pipeline">
                <div class="pipeline-line">
                  <span class="pipeline-icon">ğŸ”¬</span>
                  <span>GPT-4o-mini Â· LangGraph Â· Random Forest Â· Moran's I</span>
                </div>
                <div class="pipeline-line">
                  <span class="pipeline-icon">ğŸ“Š</span>
                  <span>Google Maps Â· US Census Â· HERE API Â· OSM</span>
                </div>
              </div>
              
            </div><!-- /map-overlays -->
            
          </div><!-- /map-wrapper -->
        </div><!-- /map-slide-container -->
        
        <aside class="notes">
          CASO REAL: Pastes Kikos - Soft Landing en Houston
          
          PIPELINE COMPLETO DE DATOS:
          
          1. RECOLECCIÃ“N (Google Maps API + Apify):
             - 7,348 restaurantes en Houston Metro
             - POIs, horarios, precios, categorÃ­as
             
          2. ANÃLISIS DE RESEÃ‘AS (NLP con GPT-4o-mini):
             - 194,951 reseÃ±as procesadas
             - 67 aspectos Ãºnicos identificados (food, service, price, ambience...)
             - Sentiment scoring (-1.0 a 1.0)
             - Aspect-based sentiment analysis
             
          3. ANÃLISIS DE MENÃšS (Vision AI + LangGraph):
             - 700+ menÃºs extraÃ­dos via OCR
             - AnÃ¡lisis de productos, ingredientes, sabores
             - CategorizaciÃ³n: breakfast, tacos, burgers, seafood...
             - DetecciÃ³n de perfiles de sabor: sweet, spicy, umami, salty...
             - AnÃ¡lisis de pricing por categorÃ­a
             
          4. ANÃLISIS GEOESPACIAL:
             - 1,024 celdas H3 (resoluciÃ³n 8) evaluadas
             - Moran's I: AutocorrelaciÃ³n espacial de calidad
             - DBSCAN: Clustering de hotspots de competencia
             - Kernel Density Estimation: Hunger Index
             
          5. MCDA (AnÃ¡lisis Multicriterio):
             - 40% PoblaciÃ³n Anglosajona (target market)
             - 30% Aptitud Drive-Through (proximidad arteriales)
             - 20% OcasiÃ³n de Consumo (densidad de POIs desayuno/almuerzo)
             - 10% Oportunidad Precio/Valor (brecha vs mercado)
             
          6. MODELOS PREDICTIVOS:
             - Random Forest: Feature importance para drivers de demanda
             - K-means (k=4): SegmentaciÃ³n de mercado
             - Isolation Forest: DetecciÃ³n de outliers
          
          HERRAMIENTAS USADAS:
          - GPT-4o-mini (NLP + Vision)
          - LangGraph (OrquestaciÃ³n multi-agente)
          - Python (pandas, scikit-learn, geopandas)
          - Observable Framework (VisualizaciÃ³n)
          
          RESULTADOS:
          1. Energy Corridor / Memorial (73.5) - 59 celdas, 43 competidores
          2. Spring Branch / Long Point (70.8) - 10 celdas, 67 competidores
          3. Pasadena / Clear Lake (64.5) - 3 celdas, 18 competidores
          4. Westchase / Gessner (80.8) â† TOP - 1 celda, 32 competidores
          5. Humble / IAH Area (78.0) - 1 celda, 10 competidores
          
          Click en cada zona para ver mÃ©tricas detalladas.
        </aside>
      </section>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SLIDE 6: SECCIÃ“N - MOTOR
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <section data-background-gradient="linear-gradient(135deg, #252542 0%, #0F0F1A 100%)" data-particles="true" aria-label="Motor de inteligencia">
        <h1 class="wo-section__title">Motor de <span class="accent">Inteligencia</span></h1>
        <p class="wo-section__subtitle">Integramos fuentes imposibles de procesar manualmente</p>
        
        <aside class="notes">
          TransiciÃ³n al "cÃ³mo": Explicar la tecnologÃ­a detrÃ¡s.
          Enfatizar que esto no es posible hacerlo manualmente.
        </aside>
      </section>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SLIDE 6: FUENTES DE DATOS (WoAnime: columns stagger)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <section data-background-color="#0F0F1A" aria-label="Fuentes de datos" data-state="datasources-slide">
        <h2>Fuentes de <span class="accent">Datos</span></h2>
        
        <div class="data-pipeline" id="datasources-pipeline">
          <!-- Entradas -->
          <div class="data-column data-column--inputs">
            <div class="data-column__header">
              <svg class="data-column__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
              </svg>
              <h3>Entradas</h3>
            </div>
            <div class="data-sources">
              <div class="data-source" data-category="gov">
                <div class="data-source__badge">GOV</div>
                <div class="data-source__info">
                  <span class="data-source__name">INEGI + DENUE</span>
                  <span class="data-source__desc">DemografÃ­a oficial</span>
                </div>
              </div>
              <div class="data-source" data-category="api">
                <div class="data-source__badge">API</div>
                <div class="data-source__info">
                  <span class="data-source__name">HERE Maps</span>
                  <span class="data-source__desc">TrÃ¡fico real-time</span>
                </div>
              </div>
              <div class="data-source" data-category="api">
                <div class="data-source__badge">API</div>
                <div class="data-source__info">
                  <span class="data-source__name">Google Places</span>
                  <span class="data-source__desc">POIs + Reviews</span>
                </div>
              </div>
              <div class="data-source" data-category="sat">
                <div class="data-source__badge">SAT</div>
                <div class="data-source__info">
                  <span class="data-source__name">Sentinel / LandSat</span>
                  <span class="data-source__desc">Imagery satelital</span>
                </div>
              </div>
              <div class="data-source" data-category="gov">
                <div class="data-source__badge">GOV</div>
                <div class="data-source__info">
                  <span class="data-source__name">US Census</span>
                  <span class="data-source__desc">Data demogrÃ¡fica</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- TransformaciÃ³n central -->
          <div class="data-transform">
            <svg class="data-transform__icon" viewBox="0 0 64 64" fill="none">
              <circle class="transform-ring" cx="32" cy="32" r="28" stroke="var(--wo-blue-lab)" stroke-width="2" stroke-dasharray="4 4"/>
              <path class="transform-arrow" d="M20 32h24M36 24l8 8-8 8" stroke="var(--wo-yellow-spark)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="data-transform__label">WorkalÃ³gico<br/>Engine</span>
          </div>
          
          <!-- Salidas -->
          <div class="data-column data-column--outputs">
            <div class="data-column__header">
              <svg class="data-column__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2"/>
                <path d="M3 9h18M9 21V9"/>
              </svg>
              <h3>Salidas</h3>
            </div>
            <div class="data-outputs">
              <div class="data-output">
                <div class="data-output__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="10" r="3"/><path d="M12 2a8 8 0 0 0-8 8c0 5.4 8 12 8 12s8-6.6 8-12a8 8 0 0 0-8-8z"/>
                  </svg>
                </div>
                <span>Mapas Interactivos</span>
              </div>
              <div class="data-output">
                <div class="data-output__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"/>
                  </svg>
                </div>
                <span>Scoring 1-100</span>
              </div>
              <div class="data-output">
                <div class="data-output__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="18" height="18" rx="2"/><rect x="7" y="7" width="3" height="3" fill="currentColor"/><rect x="14" y="7" width="3" height="3" fill="currentColor" opacity="0.6"/><rect x="7" y="14" width="3" height="3" fill="currentColor" opacity="0.3"/>
                  </svg>
                </div>
                <span>Heatmaps</span>
              </div>
              <div class="data-output">
                <div class="data-output__icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 3h18v18H3zM3 9h18M3 15h18M9 3v18M15 3v18"/>
                  </svg>
                </div>
                <span>Matriz Comparativa</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="grid-background" role="presentation" aria-hidden="true"></div>
        
        <aside class="notes">
          PIPELINE DE DATOS completo:
          
          ENTRADAS (5 fuentes premium):
          - GOV: INEGI/DENUE + US Census (datos oficiales)
          - API: HERE (trÃ¡fico) + Google Places (POIs, reviews, NLP)
          - SAT: Sentinel/LandSat (uso de suelo, actividad)
          
          TRANSFORMACIÃ“N: WorkalÃ³gico Engine
          - NormalizaciÃ³n, cruce, scoring propietario
          
          SALIDAS (4 entregables):
          - Mapas interactivos Kepler.gl
          - Score 1-100 por ubicaciÃ³n
          - Heatmaps de oportunidad
          - Matriz decisional
          
          [WoAnime] Pipeline flow animation
        </aside>
      </section>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SLIDE 7: METODOLOGÃA (WoAnime: methodology connections + stagger)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <section data-background-color="#0F0F1A" aria-label="MetodologÃ­a" data-state="methodology-slide">
        <h2>Nuestra <span class="accent">MetodologÃ­a</span></h2>
        <div class="wo-grid wo-grid--2" id="methodology-grid" role="list" data-animate="methodology">
          <div class="wo-card" data-animate="stagger" role="listitem">
            <div class="card-number" aria-hidden="true">01</div>
            <h3>ADN Comercial</h3>
            <p>Perfil demogrÃ¡fico, poder adquisitivo y actividad econÃ³mica de cada zona.</p>
          </div>
          <div class="wo-card" data-animate="stagger" role="listitem">
            <div class="card-number" aria-hidden="true">02</div>
            <h3>IsÃ³cronas</h3>
            <p>Ãreas de influencia por tiempo de traslado (5, 10, 15 min).</p>
          </div>
          <div class="wo-card" data-animate="stagger" role="listitem">
            <div class="card-number" aria-hidden="true">03</div>
            <h3>Precision Audience</h3>
            <p>Segmentos especÃ­ficos de clientes potenciales.</p>
          </div>
          <div class="wo-card" data-animate="stagger" role="listitem">
            <div class="card-number" aria-hidden="true">04</div>
            <h3>Matriz Oportunidad</h3>
            <p>Scoring vs saturaciÃ³n competitiva para identificar "sweet spots".</p>
          </div>
        </div>
        <div class="grid-background" role="presentation" aria-hidden="true"></div>
        
        <aside class="notes">
          Marco metodolÃ³gico propietario:
          1. ADN Comercial: Â¿QuiÃ©n vive/trabaja ahÃ­?
          2. IsÃ³cronas: Â¿QuÃ© tan lejos llegan los clientes?
          3. Precision Audience: Â¿Es MI cliente?
          4. Matriz: Oportunidad vs Riesgo
          
          [WoAnime] Cards con stagger + lÃ­neas de conexiÃ³n animadas
        </aside>
      </section>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SLIDE 8: PRECIOS (WoAnime: pricing cards + counter animation)
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <section data-background-color="#0F0F1A" aria-label="Paquetes y precios" data-state="pricing-slide">
        <h2>Paquetes <span class="accent">Transparentes</span></h2>
        <div class="wo-grid wo-grid--3" id="pricing-grid" role="list" data-animate="pricing">
          <div class="wo-card" data-animate="stagger" role="listitem">
            <h3>EstÃ¡ndar</h3>
            <p class="card-tier">1 UbicaciÃ³n</p>
            <p class="card-price" data-animate="counter">$40K - $60K</p>
            <p class="card-time">2-3 semanas</p>
          </div>
          <div class="wo-card wo-card--highlight" data-animate="highlight" role="listitem">
            <h3>Pro</h3>
            <p class="card-tier">3-5 Ubicaciones</p>
            <p class="card-price" data-animate="counter">$80K - $120K</p>
            <p class="card-time">3-4 semanas</p>
          </div>
          <div class="wo-card" data-animate="stagger" role="listitem">
            <h3>Enterprise</h3>
            <p class="card-tier">10+ Ubicaciones</p>
            <p class="card-price" data-animate="counter">$150K - $250K</p>
            <p class="card-time">4-6 semanas</p>
          </div>
        </div>
        <div class="grid-background" role="presentation" aria-hidden="true"></div>
        
        <aside class="notes">
          Precios en MXN. El paquete Pro es el mÃ¡s popular.
          
          Puntos de negociaciÃ³n:
          - EstÃ¡ndar: Ideal para validar una ubicaciÃ³n especÃ­fica
          - Pro: Mejor valor, comparar mÃºltiples opciones
          - Enterprise: Para expansiones masivas o M&A
          
          No incluye: Estudios de mercado adicionales, encuestas.
          
          [WoAnime] Pricing cards con highlight especial + counters
        </aside>
      </section>

      <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SLIDE 9: CTA / CIERRE
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
      <section data-background-gradient="radial-gradient(ellipse at center, #252542 0%, #0F0F1A 70%)" data-particles="true" aria-label="Llamado a la acciÃ³n">
        <div class="wo-cta">
          <h1 class="wo-cta__title">Â¿Listo para expandir con <span class="accent">certeza</span>?</h1>
          <p class="wo-cta__subtitle">Agenda tu brief gratuito hoy</p>
          <div class="wo-cta__contact">
            <p><a href="mailto:bo@workalogico.com" style="color: inherit; text-decoration: none;">bo@workalogico.com</a></p>
            <p><a href="https://www.workalogico.com" target="_blank" rel="noopener" style="color: inherit; text-decoration: none;">www.workalogico.com</a></p>
          </div>
        </div>
        <div class="grid-background" role="presentation" aria-hidden="true"></div>
        
        <aside class="notes">
          CTA principal: Agendar brief de 30 minutos.
          
          Siguiente paso claro:
          1. Brief gratuito para entender necesidad
          2. Propuesta en 48 horas
          3. Kick-off en menos de 1 semana
          
          Cerrar con pregunta: "Â¿QuÃ© ubicaciÃ³n tienes en mente?"
        </aside>
      </section>

    </div>
  </div>

  <!-- Reveal.js -->
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4/dist/reveal.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/reveal.js@4/plugin/notes/notes.js"></script>
  
  <!-- Anime.js + WorkalÃ³gico Animation System -->
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.2/lib/anime.min.js"></script>
  <script type="module" src="../wo-anime/wo-anime-bundle.js"></script>
  
  <!-- tsParticles + WorkalÃ³gico Particles System -->
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2/tsparticles.bundle.min.js"></script>
  <script src="../wo-particles.js"></script>
  
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  
  <script>
    let houstonMap = null;
    let mapInitialized = false;
    let layerGroups = {};
    
    // Datos de las zonas (nombres descriptivos)
    const areaNames = {
      1: "Energy Corridor / Memorial",
      2: "Spring Branch / Long Point", 
      3: "Pasadena / Clear Lake",
      4: "Westchase / Gessner",
      5: "Humble / IAH Area"
    };
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // WORKALÃ“GICO COLOR SYSTEM (Design System v2.0)
    // Escala secuencial azulâ†’amarillo (CVD-friendly)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const WO_COLORS = {
      blue: '#5968EA',       // --wo-blue-lab
      yellow: '#FFCB00',     // --wo-yellow-spark
      danger: '#F97316',     // Naranja CVD-safe (no rojo)
      success: '#10B981',    // --wo-success
      dark: '#0F0F1A',       // --wo-dark
      surface: '#252542'     // --wo-dark-surface
    };
    
    // Escala de scoring (bajo â†’ alto): Azul oscuro â†’ Amarillo brand
    const WO_SCORING_SCALE = {
      lowest: '#312E81',     // Indigo muy oscuro (0-40)
      low: '#4338CA',        // Indigo (40-55)
      mid: '#6366F1',        // Indigo claro (55-70)
      high: '#FBBF24',       // Amber (70-85)
      highest: '#FFCB00'     // Yellow brand (85-100)
    };
    
    // FunciÃ³n de color por score (Design System WorkalÃ³gico)
    function getScoreColor(score) {
      if (score >= 85) return WO_SCORING_SCALE.highest;  // #FFCB00 - Amarillo brand
      if (score >= 70) return WO_SCORING_SCALE.high;     // #FBBF24 - Amber
      if (score >= 55) return WO_SCORING_SCALE.mid;      // #6366F1 - Indigo claro
      if (score >= 40) return WO_SCORING_SCALE.low;      // #4338CA - Indigo
      return WO_SCORING_SCALE.lowest;                    // #312E81 - Indigo oscuro
    }
    
    // Inicializar mapa de Houston
    async function initHoustonMap() {
      if (houstonMap) return;
      
      const container = document.getElementById('houston-map');
      if (!container) {
        console.error('Houston map container not found');
        return;
      }
      
      console.log('Initializing Houston map...');
      
      // Crear mapa centrado en Houston
      houstonMap = L.map(container, {
        center: [29.76, -95.36],
        zoom: 10,
        zoomControl: true,
        preferCanvas: true // Mejor rendimiento
      });
      
      // Capa base oscura (CartoDB Dark)
      L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; OpenStreetMap, &copy; CartoDB',
        maxZoom: 19
      }).addTo(houstonMap);
      
      // Cargar GeoJSON
      try {
        const [zonesRes, cellsRes, competitionRes] = await Promise.all([
          fetch('data/top5_locations.geojson'),
          fetch('data/candidate_cells.geojson'),
          fetch('data/competition_all.geojson')
        ]);
        
        const zones = await zonesRes.json();
        const cells = await cellsRes.json();
        const competition = await competitionRes.json();
        
        // Crear layer groups
        layerGroups.zones = L.layerGroup();
        layerGroups.cells = L.layerGroup();
        layerGroups.competition = L.layerGroup();
        
        // 1. Capa de Zonas Top 5 (Design System WorkalÃ³gico)
        L.geoJSON(zones, {
          style: (feature) => ({
            color: getScoreColor(feature.properties.mean_score),
            weight: 2.5,
            fillColor: getScoreColor(feature.properties.mean_score),
            fillOpacity: 0.4
          }),
          onEachFeature: (feature, layer) => {
            const p = feature.properties;
            const name = areaNames[p.zone_id] || `Zona ${p.zone_id}`;
            layer.bindPopup(`
              <div class="zone-popup">
                <h3>Zona ${p.zone_id}: ${name}</h3>
                <div class="score">${p.mean_score.toFixed(1)}/100</div>
                <table>
                  <tr><td>Anglo Score:</td><td>${p.anglo_score_pct.toFixed(1)}%</td></tr>
                  <tr><td>Drive-Through:</td><td>${p.drive_score_pct.toFixed(1)}%</td></tr>
                  <tr><td>OcasiÃ³n:</td><td>${p.occasion_score_pct.toFixed(1)}%</td></tr>
                  <tr><td>Valor:</td><td>${p.value_opportunity_pct.toFixed(1)}%</td></tr>
                  <tr><td>Competencia (2km):</td><td>${p.competition_2km}</td></tr>
                </table>
              </div>
            `, {maxWidth: 280});
          }
        }).addTo(layerGroups.zones);
        
        // 2. Capa de Celdas H3 Candidatas (Design System)
        L.geoJSON(cells, {
          style: (feature) => ({
            color: 'rgba(89, 104, 234, 0.4)',  // --wo-blue-lab con opacidad
            weight: 0.5,
            fillColor: getScoreColor(feature.properties.final_score || 50),
            fillOpacity: 0.5
          }),
          onEachFeature: (feature, layer) => {
            const p = feature.properties;
            layer.bindTooltip(`Score: ${(p.final_score || 0).toFixed(1)} | Rank: #${p.rank || 'N/A'}`, {
              sticky: true,
              className: 'leaflet-tooltip-dark'
            });
          }
        }).addTo(layerGroups.cells);
        
        // 3. Capa de Competencia (CVD-friendly: naranja en lugar de rojo)
        L.geoJSON(competition, {
          pointToLayer: (feature, latlng) => {
            return L.circleMarker(latlng, {
              radius: 4,
              fillColor: '#F97316',      // Naranja CVD-safe
              color: '#EA580C',          // Naranja mÃ¡s oscuro
              weight: 1,
              fillOpacity: 0.75
            });
          },
          onEachFeature: (feature, layer) => {
            const p = feature.properties;
            const name = p.name || p.NAME || 'Competidor';
            layer.bindTooltip(name, { 
              sticky: true,
              className: 'leaflet-tooltip-dark'
            });
          }
        }).addTo(layerGroups.competition);
        
        // Mostrar zonas por defecto
        layerGroups.zones.addTo(houstonMap);
        
        // Configurar botones de capas
        document.querySelectorAll('.map-layer-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            const layer = btn.dataset.layer;
            btn.classList.toggle('active');
            
            if (btn.classList.contains('active')) {
              layerGroups[layer].addTo(houstonMap);
            } else {
              houstonMap.removeLayer(layerGroups[layer]);
            }
          });
        });
        
        // Fit bounds a las zonas
        const bounds = L.geoJSON(zones).getBounds();
        houstonMap.fitBounds(bounds, { padding: [30, 30] });
        
        // Forzar actualizaciÃ³n del tamaÃ±o del mapa (CRÃTICO para Reveal.js)
        // Reveal.js usa transform:scale() que afecta las dimensiones percibidas
        console.log('Map loaded, forcing size invalidation...');
        
        // Primera invalidaciÃ³n inmediata
        houstonMap.invalidateSize();
        
        // Segunda invalidaciÃ³n despuÃ©s de que Reveal.js termine sus animaciones
        setTimeout(() => {
          houstonMap.invalidateSize();
          houstonMap.fitBounds(bounds, { padding: [50, 50] });
          console.log('Map bounds fitted');
        }, 400);
        
        // Tercera invalidaciÃ³n para asegurar
        setTimeout(() => {
          houstonMap.invalidateSize();
        }, 800);
        
      } catch (error) {
        console.error('Error loading GeoJSON:', error);
        container.innerHTML = '<div style="color: #ef4444; text-align: center; padding: 2rem;">Error cargando datos del mapa</div>';
      }
    }
    
    Reveal.initialize({
      width: 1280,
      height: 720,
      margin: 0.1,
      minScale: 0.2,
      maxScale: 1.2,
      hash: true,
      center: true,
      navigationMode: 'default',
      transition: 'slide', // Fluidity Overhaul: slide para mejor overlap
      transitionSpeed: 'slow', // Fluidity Overhaul: ~800ms para soft landing
      backgroundTransition: 'fade',
      slideNumber: 'c/t',
      showSlideNumber: 'all',
      progress: true,
      controls: true,
      controlsTutorial: false,
      controlsLayout: 'bottom-right',
      viewDistance: 3,
      mobileViewDistance: 2,
      preloadIframes: false,
      autoPlayMedia: false,
      touch: true,
      hideInactiveCursor: true,
      hideCursorTime: 3000,
      help: true,
      showNotes: false,
      plugins: [RevealNotes]
    }).then(() => {
      // Setup particles
      setupWoParticles('geo');
      
      // WoAnime ya se auto-inicializa, pero agregamos handlers personalizados
      console.log('WoAnime integration ready');
    });
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // WOÃNIME: ANIMACIONES AVANZADAS POR SLIDE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    // Track de slides ya animados y direcciÃ³n de navegaciÃ³n
    const animatedSlides = new Set();
    let lastSlideIndex = 0;
    
    // FunciÃ³n para resetear elementos animados de un slide
    function resetSlideAnimations(slideIndex) {
      const slides = document.querySelectorAll('.reveal .slides > section');
      if (slides[slideIndex]) {
        const slide = slides[slideIndex];
        
        // Reset cards
        const cards = slide.querySelectorAll('.wo-card, .wo-column, .data-column, .data-source, .data-output, .data-transform');
        cards.forEach(el => {
          el.style.opacity = '';
          el.style.transform = '';
        });
        
        // Reset animated icons
        const icons = slide.querySelectorAll('.wo-card__icon');
        icons.forEach(icon => {
          icon.classList.remove('animated');
          const paths = icon.querySelectorAll('.icon-path');
          const dots = icon.querySelectorAll('.icon-dot');
          paths.forEach(p => { p.style.strokeDashoffset = '200'; p.style.opacity = '0'; });
          dots.forEach(d => { d.style.transform = 'scale(0)'; d.style.opacity = '0'; });
        });
      }
    }
    
    Reveal.on('slidechanged', (event) => {
      const slideState = event.currentSlide.dataset.state;
      const currentIndex = Reveal.getIndices().h;
      const slideId = currentIndex + '-' + Reveal.getIndices().v;
      
      // Detectar navegaciÃ³n hacia atrÃ¡s - limpiar y resetear slides futuros
      if (currentIndex < lastSlideIndex) {
        // Limpiar todos los slides que estÃ¡n adelante del actual
        animatedSlides.forEach(id => {
          const idIndex = parseInt(id.split('-')[0]);
          if (idIndex > currentIndex) {
            animatedSlides.delete(id);
            resetSlideAnimations(idIndex);
          }
        });
      }
      lastSlideIndex = currentIndex;
      
      // Evitar re-animar slides ya visitados en la misma sesiÃ³n de avance
      if (animatedSlides.has(slideId)) return;
      
      // Challenges slide - Cards con stagger
      if (slideState === 'challenges-slide') {
        const grid = event.currentSlide.querySelector('#challenges-grid');
        if (grid && typeof WoAnime !== 'undefined') {
          setTimeout(() => {
            const cards = grid.querySelectorAll('.wo-card');
            WoAnime.cardsEntrance(cards, { 
              from: 'center', 
              delay: 100,
              effect: 'spring',
              staggerGrid: { cols: 2, rows: 2 }
            });
            WoAnime.animateStepNumbers(grid);
            animatedSlides.add(slideId);
          }, 200);
        }
      }
      
      // Use cases slide - Cards con stagger en grid 3x2
      if (slideState === 'usecases-slide') {
        const grid = event.currentSlide.querySelector('#usecases-grid');
        if (grid && typeof WoAnime !== 'undefined') {
          setTimeout(() => {
            const cards = grid.querySelectorAll('.wo-card');
            WoAnime.cardsEntrance(cards, { 
              from: 'center', 
              delay: 80,
              effect: 'spring',
              staggerGrid: { cols: 3, rows: 2 }
            });
            
            // Animar Ã­conos de industria con path drawing
            const icons = grid.querySelectorAll('.wo-card__icon');
            icons.forEach((icon, index) => {
              icon.classList.add('animated');
              const paths = icon.querySelectorAll('.icon-path');
              const dots = icon.querySelectorAll('.icon-dot');
              
              // AnimaciÃ³n de path drawing staggered
              anime({
                targets: paths,
                strokeDashoffset: [200, 0],
                opacity: [0, 1],
                easing: 'easeOutQuad',
                duration: 800,
                delay: 300 + (index * 100)
              });
              
              // AnimaciÃ³n de puntos/dots
              if (dots.length > 0) {
                anime({
                  targets: dots,
                  scale: [0, 1],
                  opacity: [0, 1],
                  easing: 'easeOutBack',
                  duration: 400,
                  delay: 800 + (index * 100)
                });
              }
            });
            
            animatedSlides.add(slideId);
          }, 200);
        }
      }
      
      // Methodology slide - Cards con conexiones SVG
      if (slideState === 'methodology-slide') {
        const grid = event.currentSlide.querySelector('#methodology-grid');
        if (grid && typeof WoAnime !== 'undefined') {
          setTimeout(() => {
            const cards = grid.querySelectorAll('.wo-card');
            // Primero animar cards
            WoAnime.cardsEntrance(cards, { 
              from: 'first', 
              delay: 150,
              effect: 'spring'
            });
            // Luego animar nÃºmeros de paso
            setTimeout(() => {
              WoAnime.animateStepNumbers(grid);
            }, 400);
            // Finalmente, dibujar conexiones
            setTimeout(() => {
              WoAnime.methodologyConnections(grid, {
                direction: 'grid',
                curved: false,
                lineColor: '#5968EA',
                arrowHead: true,
                duration: 800,
                staggerDelay: 300
              });
            }, 800);
            animatedSlides.add(slideId);
          }, 200);
        }
      }
      
      // Data sources slide - Columnas con stagger
      if (slideState === 'datasources-slide') {
        const pipeline = event.currentSlide.querySelector('#datasources-pipeline');
        if (pipeline && typeof anime !== 'undefined') {
          // Columna de entradas
          const inputColumn = pipeline.querySelector('.data-column--inputs');
          const inputSources = pipeline.querySelectorAll('.data-source');
          
          // TransformaciÃ³n central
          const transform = pipeline.querySelector('.data-transform');
          const transformRing = pipeline.querySelector('.transform-ring');
          
          // Columna de salidas
          const outputColumn = pipeline.querySelector('.data-column--outputs');
          const outputs = pipeline.querySelectorAll('.data-output');
          
          // Timeline de animaciÃ³n del pipeline
          const tl = anime.timeline({ easing: 'easeOutQuad' });
          
          // 1. Columna de entradas entra
          tl.add({
            targets: inputColumn,
            opacity: [0, 1],
            translateX: [-30, 0],
            duration: 500
          }, 0);
          
          // 2. Sources aparecen en stagger
          tl.add({
            targets: inputSources,
            opacity: [0, 1],
            translateX: [-15, 0],
            delay: anime.stagger(80),
            duration: 400
          }, 200);
          
          // 3. TransformaciÃ³n central aparece
          tl.add({
            targets: transform,
            opacity: [0, 1],
            scale: [0.8, 1],
            duration: 500,
            easing: 'easeOutBack'
          }, 400);
          
          // 4. Ring de transformaciÃ³n rota continuamente
          tl.add({
            targets: transformRing,
            rotate: 360,
            duration: 8000,
            easing: 'linear',
            loop: true
          }, 600);
          
          // 5. Columna de salidas entra
          tl.add({
            targets: outputColumn,
            opacity: [0, 1],
            translateX: [30, 0],
            duration: 500
          }, 600);
          
          // 6. Outputs aparecen en stagger
          tl.add({
            targets: outputs,
            opacity: [0, 1],
            translateX: [15, 0],
            delay: anime.stagger(100),
            duration: 400
          }, 800);
          
          animatedSlides.add(slideId);
        }
      }
      
      // Pricing slide - Cards con highlight especial
      if (slideState === 'pricing-slide') {
        const grid = event.currentSlide.querySelector('#pricing-grid');
        if (grid && typeof WoAnime !== 'undefined') {
          setTimeout(() => {
            // Usar pricingCards para animaciÃ³n especial del highlight
            WoAnime.pricingCards(grid, { 
              highlightDelay: 200 
            });
            // Animar precios con counter
            const prices = grid.querySelectorAll('.card-price');
            setTimeout(() => {
              prices.forEach(p => WoAnime.counter(p, { duration: 1200 }));
            }, 600);
            animatedSlides.add(slideId);
          }, 200);
        }
      }
    });
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // INTEGRACIÃ“N MAPA HOUSTON (LEAFLET)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    Reveal.on('slidechanged', (event) => {
      const currentState = event.currentSlide.dataset.state;
      
      if (currentState === 'map-slide') {
        if (!mapInitialized) {
          // Primera vez: inicializar mapa
          setTimeout(() => {
            initHoustonMap();
            mapInitialized = true;
          }, 300);
        } else if (houstonMap) {
          // Ya inicializado: solo refrescar tamaÃ±o
          setTimeout(() => {
            houstonMap.invalidateSize();
          }, 100);
        }
      }
    });
    
    // TambiÃ©n verificar en ready si estamos en el slide del mapa
    Reveal.on('ready', (event) => {
      const currentState = event.currentSlide?.dataset?.state;
      if (currentState === 'map-slide' && !mapInitialized) {
        setTimeout(() => {
          initHoustonMap();
          mapInitialized = true;
        }, 500);
      }
    });
    
    // Resize map when window resizes
    window.addEventListener('resize', () => {
      if (houstonMap) {
        houstonMap.invalidateSize();
      }
    });
    
    // Keyboard shortcuts
    Reveal.addKeyBinding({ keyCode: 72, key: 'H', description: 'Mostrar ayuda' }, () => {
      Reveal.toggleHelp();
    });
  </script>
</body>
</html>
