/* ═══════════════════════════════════════════════════════════════
   WORKALÓGICO TESERACTO v2.0 - Estilos CSS
   Animaciones dramáticas y efectos visuales intensos
   ═══════════════════════════════════════════════════════════════ */

/* ─────────────────────────────────────────────────────────────────
   CONTENEDOR BASE
   ───────────────────────────────────────────────────────────────── */

.wo-teseracto-container {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: visible;
  
  /* 3D perspective para rotaciones */
  perspective: 1000px;
  perspective-origin: center center;
}

/* Tamaños predefinidos */
.wo-teseracto-container--xs { width: 32px; height: 32px; }
.wo-teseracto-container--sm { width: 48px; height: 48px; }
.wo-teseracto-container--md { width: 80px; height: 80px; }
.wo-teseracto-container--lg { width: 120px; height: 120px; }
.wo-teseracto-container--xl { width: 180px; height: 180px; }
.wo-teseracto-container--hero { width: 280px; height: 280px; }
.wo-teseracto-container--splash { width: 400px; height: 400px; }

/* ─────────────────────────────────────────────────────────────────
   SVG BASE
   ───────────────────────────────────────────────────────────────── */

.wo-teseracto {
  width: 100%;
  height: 100%;
  overflow: visible;
  transform-origin: center center;
  
  /* GPU acceleration */
  transform: translateZ(0);
  will-change: transform, opacity;
  
  /* Preserve 3D para rotaciones */
  transform-style: preserve-3d;
}

/* ─────────────────────────────────────────────────────────────────
   CAPAS DE ANIMACIÓN
   ───────────────────────────────────────────────────────────────── */

/* Capa principal */
.wo-teseracto__main {
  transform-origin: center center;
  transform-style: preserve-3d;
  will-change: transform, opacity;
}

/* Forma del teseracto */
.wo-teseracto__shape {
  fill: var(--wo-teseracto-color, #FFCB00);
}

/* Capa de glow */
.wo-teseracto__glow-layer {
  pointer-events: none;
  will-change: opacity;
}

.wo-teseracto__glow {
  fill: var(--wo-teseracto-color, #FFCB00);
}

/* Capa de stroke (línea de energía) */
.wo-teseracto__stroke-layer {
  pointer-events: none;
  will-change: opacity;
}

.wo-teseracto__stroke {
  stroke: var(--wo-teseracto-color, #FFCB00);
  fill: none;
  stroke-width: 1;
  will-change: stroke-dashoffset;
}

/* Partículas */
.wo-teseracto__particles {
  pointer-events: none;
  will-change: opacity;
}

.wo-teseracto__particle {
  fill: var(--wo-teseracto-color, #FFCB00);
  will-change: transform, opacity;
}

/* ─────────────────────────────────────────────────────────────────
   VARIANTES DE COLOR
   ───────────────────────────────────────────────────────────────── */

.wo-teseracto--yellow,
.wo-teseracto-container--yellow .wo-teseracto {
  --wo-teseracto-color: var(--wo-yellow-spark);
  --wo-teseracto-glow: rgba(var(--wo-accent-primary-rgb), 0.6);
}

.wo-teseracto--blue,
.wo-teseracto-container--blue .wo-teseracto {
  --wo-teseracto-color: var(--wo-blue-lab);
  --wo-teseracto-glow: rgba(var(--wo-accent-secondary-rgb), 0.6);
}

.wo-teseracto--white,
.wo-teseracto-container--white .wo-teseracto {
  --wo-teseracto-color: #F7F7F7;
  --wo-teseracto-glow: rgba(247, 247, 247, 0.6);
}

.wo-teseracto--gray,
.wo-teseracto-container--gray .wo-teseracto {
  --wo-teseracto-color: #333333;
  --wo-teseracto-glow: rgba(51, 51, 51, 0.4);
}

/* ─────────────────────────────────────────────────────────────────
   INTENSIDAD DE ANIMACIÓN
   ───────────────────────────────────────────────────────────────── */

/* Sutil (para headers pequeños) */
.wo-teseracto-container--subtle .wo-teseracto__glow-layer {
  opacity: 0.1 !important;
}

/* Intenso (para splash screens) */
.wo-teseracto-container--intense .wo-teseracto__glow-layer {
  opacity: 0.5 !important;
}

/* ─────────────────────────────────────────────────────────────────
   FONDOS
   ───────────────────────────────────────────────────────────────── */

/* Fondo oscuro (default) */
.wo-teseracto-container--dark-bg {
  background: transparent;
}

/* Con fondo visible */
.wo-teseracto-container--with-bg {
  background: radial-gradient(
    ellipse at center,
    rgba(var(--wo-accent-primary-rgb), 0.05) 0%,
    transparent 70%
  );
  border-radius: 50%;
}

/* ─────────────────────────────────────────────────────────────────
   ESTADOS HOVER
   ───────────────────────────────────────────────────────────────── */

.wo-teseracto-container--interactive:hover .wo-teseracto__main {
  transform: scale(1.05);
  transition: transform 0.3s ease;
}

.wo-teseracto-container--interactive:hover .wo-teseracto__glow-layer {
  opacity: 0.5 !important;
  transition: opacity 0.3s ease;
}

/* ─────────────────────────────────────────────────────────────────
   ACCESIBILIDAD
   ───────────────────────────────────────────────────────────────── */

@media (prefers-reduced-motion: reduce) {
  .wo-teseracto,
  .wo-teseracto__main,
  .wo-teseracto__glow-layer,
  .wo-teseracto__stroke-layer,
  .wo-teseracto__particles {
    animation: none !important;
    transition: none !important;
  }
  
  /* Mostrar estático */
  .wo-teseracto__main {
    opacity: 1 !important;
    transform: none !important;
  }
  
  .wo-teseracto__glow-layer {
    opacity: 0.15 !important;
  }
  
  .wo-teseracto__stroke-layer,
  .wo-teseracto__particles {
    opacity: 0 !important;
  }
}

/* ─────────────────────────────────────────────────────────────────
   UTILIDADES
   ───────────────────────────────────────────────────────────────── */

/* Centrado absoluto */
.wo-teseracto-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* Inline */
.wo-teseracto-inline {
  display: inline-flex;
  vertical-align: middle;
}

/* Loading indicator */
.wo-teseracto-loader {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 9999;
}

.wo-teseracto-loader::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(
    ellipse at center,
    color-mix(in srgb, var(--wo-dark) 90%, transparent) 0%,
    transparent 70%
  );
  pointer-events: none;
}

/* ─────────────────────────────────────────────────────────────────
   KEYFRAMES (Fallbacks sin Anime.js)
   ───────────────────────────────────────────────────────────────── */

@keyframes wo-teseracto-breathe {
  0%, 100% {
    transform: scale(0.96) rotateY(-3deg) rotateX(-2deg);
  }
  50% {
    transform: scale(1.04) rotateY(3deg) rotateX(2deg);
  }
}

@keyframes wo-teseracto-glow-pulse {
  0%, 100% {
    opacity: 0.1;
  }
  50% {
    opacity: 0.4;
  }
}

@keyframes wo-teseracto-particle-orbit {
  0% {
    transform: translateX(0) translateY(0) scale(0.8);
    opacity: 0.4;
  }
  50% {
    transform: translateX(10px) translateY(-10px) scale(1.2);
    opacity: 1;
  }
  100% {
    transform: translateX(0) translateY(0) scale(0.8);
    opacity: 0.4;
  }
}

/* Aplicar fallbacks cuando Anime.js no está disponible */
.wo-teseracto--fallback .wo-teseracto__main {
  animation: wo-teseracto-breathe 2s ease-in-out infinite;
}

.wo-teseracto--fallback .wo-teseracto__glow-layer {
  opacity: 0.2;
  animation: wo-teseracto-glow-pulse 2s ease-in-out infinite;
}

.wo-teseracto--fallback .wo-teseracto__particle {
  animation: wo-teseracto-particle-orbit 3s ease-in-out infinite;
}
